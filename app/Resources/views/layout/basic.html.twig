{% extends "::layout.html.twig" %}
{% trans_default_domain 'web' %}

{% block body %}
  {#<div class="locale_switcher">{{ locale_switcher() }}</div>#}

  <div class="page-header">
    <div class="container">
      <h3 class="pull-left page-title">
        <a href="{{ path('homepage') }}">{{ 'ArgonBook' }}</a>
        <small>{{ 'Alternate Reality Games Oriented Network' }}</small>
      </h3>
      <ul class="nav pull-right">
        <li><a href="{{ path('homepage') }}">{{ 'layout.home'|trans }}</a></li>
        {% if is_granted("IS_AUTHENTICATED_REMEMBERED") %}
          {% if is_granted('ROLE_USER') %}
            <li><a href="{{ path('fos_user_profile_show') }}">{{ 'layout.profile'|trans }}</a></li>
          {% endif %}
          {% if is_granted("ROLE_ADMIN") %}
            <li><a href="{{ path('admin_dashboard') }}">{{ 'layout.admin'|trans }}</a></li>
          {% endif %}
          {% if is_granted('ROLE_PREVIOUS_ADMIN') %}
            <li><a href="{{ path('homepage', {'_switch': '_exit'}) }}">{{ 'layout.switch_exit'|trans }}</a></li>
          {% else %}
            <li><a href="{{ path('fos_user_security_logout') }}">{{ 'layout.logout'|trans({}, 'FOSUserBundle') }}</a></li>
          {% endif %}
        {% else %}
          <li><a href="{{ path('fos_user_security_login') }}">{{ 'layout.login'|trans({}, 'FOSUserBundle') }}</a></li>
        {% endif %}
      </ul>
    </div>
  </div>

  {% if app.session.flashbag.keys()|length %}
  <div class="section section-empty">
    <div class="container">
    {% for flashClass, flashMessages in app.session.flashbag.all() %}
      {% for flashMessage in flashMessages %}
        <div class="alert alert-{{ flashClass }}">{{ flashMessage|trans({}, 'flash') }}</div>
      {% endfor %}
    {% endfor %}
    </div>
  </div>
  {% endif %}

  {% block wrapper %}
    {% block sections %}{% endblock %}
    {% block content %}{% endblock %}
  {% endblock %}
{% endblock %}