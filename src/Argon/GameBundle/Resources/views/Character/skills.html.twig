{% set active = 'character' %}
{% extends 'ArgonWebBundle::layout.html.twig' %}
{% trans_default_domain 'web' %}

{% block title %}{{ parent() }} - {{ 'character.title'|trans }} - {{ character }} - {{ 'character.skills'|trans }}{% endblock %}

{% block content %}
{{ form_start(form) }}
    {{ form_errors(form) }}
    <table class="table table-striped">
        <thead>
            <tr>
                <th>&nbsp;</th>
                <th>{{ 'skill.name'|trans }}</th>
                <th class="text-right">{{ 'skill.price'|trans }}</th>
                <th class="text-right">&nbsp;</th>
            </tr>
        </thead>
        <tbody>
        {% for characterSkill in form.characterSkills %}
        {% set skill = characterSkill.vars.value.skill %}
            <tr class="ability-{{ skill.abilityCode|default('all')|lower }}">
                <td>
                    {% if skill.abilityCode %}
                        <abbr title="{{ ('character_ability.types.' ~ skill.abilityCode)|trans({}, 'forms') }} ({{ skill.abilityCode }})">
                            <span class="glyphicon glyphicon-asterisk"></span>
                        </abbr>
                    {% else %}
                        <abbr title="{{ 'skill.ability_empty'|trans }}">
                            <span class="glyphicon glyphicon-asterisk"></span>
                        </abbr>
                    {% endif %}
                </td>
                <td>{{ skill }}</td>
                <td class="text-right">{{ characterSkill.vars.value.getPrice() }}</td>
                <td class="text-right">
                    {{ form_widget(characterSkill.newLevel) }}
                    {{ form_errors(characterSkill.newLevel) }}
                </td>
            </tr>
        {% else %}
            <tr class="warning">
                <td colspan="4">{{ 'skill.empty'|trans }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    {{ form_rest(form) }}
{{ form_end(form) }}
{% endblock %}